syntax = "proto3";
package simulation;

message Vector3
{
    float x = 1;
    float y = 2;
    float z = 3;
}

message Orientation
{
    float psi   = 1;
    float theta = 2;
    float phi   = 3;
}

message Packet
{
    enum Source
    {
        CLIENT = 0;
        SERVER = 1;
    }

    Source source = 1;

    oneof type
    {
        WorldState world_state = 3;
        Entity entity = 4;
    }
}

message WorldState
{
    repeated Entity entities = 1;
}

message Entity
{
    enum Type
    {
        FIGHTER   = 0;
        BOMBER    = 1;
        SAM       = 2;
        DRONE     = 3;
        SATELLITE = 4;
    }

    enum Action
    {
        CREATE = 0;
        EDIT   = 1;
        COPY   = 2;
        DELETE = 3;
        ACK    = 4;
        NACK   = 5;
    }

    string name   = 1;
    uint32 id     = 2;
    Type   type   = 3;
    Action action = 4; 

    Vector3 position = 5;
    Vector3 velocity = 6;
    Orientation orientation = 7;

}